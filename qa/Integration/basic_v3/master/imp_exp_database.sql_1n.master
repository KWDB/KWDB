> create ts database test;
CREATE TS DATABASE
> use test;
SET
> create table test.tb1(k_timestamp timestamptz not null, e1 int2, e2 int4, e3 int8, e4 float4, e5 float8, e6 bool, e7 char(20), e8 nchar(20), e9 bytes(20), e10 double) tags (tag1 int2 not null, tag2 int4 not null, tag3 int8 not null, tag4 float4, tag5 float8, tag6 bool, tag7 char(20), tag8 nchar(20), tag9 bytes(20), tag10 double) primary tags(tag1, tag2, tag3);
CREATE TABLE
> insert into test.tb1 values('2024-01-01 00:00:01+00:00',663,620,901,7463.861328125,-1551.4947464030101,true,'x','o','\x30',225.31828421061618,820,139,851,3052.771728515625,-3061.167301514549,true,'w','Z','\x38',1632.308420147181);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:01+00:00',663,620,901,7463.861328125,-1551.4947464030101,true,'x','o','\\test',225.31828421061618,495,736,420,3052.771728515625,-3061.167301514549,true,'w','Z','\x38',1632.308420147181);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:02+00:00',500,324,821,-3514.2734375,2907.959323289191,false,'g','R','\x39',1942.0105699072847,865,577,987,-6812.10791015625,5215.895202662417,true,'U','i','\x45',-6363.044280492493);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:02+00:00',500,324,821,-3514.2734375,2907.959323289191,false,'g','R','测试',1942.0105699072847,820,139,851,-6812.10791015625,5215.895202662417,true,'U','i','\x45',-6363.044280492493);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:04+00:00',666,119,807,9944.78125,-7359.134805999276,true,'A','H','\x42',-238.10581074656693,495,736,420,659.4307861328125,-349.5548293794309,false,'m','o','\x36',3778.0368072157435);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:04+00:00',666,119,807,9944.78125,-7359.134805999276,true,'A','H','byte',-238.10581074656693,865,577,987,659.4307861328125,-349.5548293794309,false,'m','o','\x36',3778.0368072157435);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:05+00:00',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,865,577,987,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT 1
> create table test.tb2(k_timestamp timestamptz not null, e1 int2, e2 int4, e3 int8, e4 float4, e5 float8, e6 bool, e7 char(20), e8 nchar(20), e9 bytes(20), e10 double) tags (tag1 int2 not null, tag2 int4 not null, tag3 int8 not null, tag4 float4, tag5 float8, tag6 bool, tag7 char(20), tag8 nchar(20), tag9 bytes(20), tag10 double) primary tags(tag1, tag2, tag3);
CREATE TABLE
> insert into test.tb2 values('2024-01-01 00:00:00+00:00',853,102,126,-269.9822082519531,-6310.8133409285365,false,'z','N','\x33',3262.9201366604448,431,625,332,2097.56640625,-8080.921804629673,true,'D','a','\x46',-9985.633213887826);
INSERT 1
> insert into test.tb2 values('2024-01-01 00:00:03+00:00',926,422,192,168.82395935058594,-6538.5148542374245,false,'K','V','\x37',7827.629938345075,502,737,13,9694.1708984375,-4820.426745015345,true,'Y','Q','\x36',-6651.346270440837);
INSERT 1
> export into csv "nodelocal://1/dbtest1/db1" from database test;
  result
-----------
  succeed
(1 row)
> use defaultdb;
SET
> drop database test cascade;
DROP DATABASE
> import database csv data ("nodelocal://1/dbtest1/db1");
  job_id |  status   | fraction_completed | rows | abandon_rows | reject_rows | note
---------+-----------+--------------------+------+--------------+-------------+-------
  -      | succeeded |                  1 |    9 | 0            | 0           | None
(1 row)
> select * from test.tb1 order by tag1, k_timestamp;
         k_timestamp        |  e1  |  e2  |  e3  |      e4      |         e5          |  e6   |  e7  |  e8  |                     e9                     |         e10         | tag1 | tag2 | tag3 |    tag4     |        tag5        | tag6 | tag7 | tag8 |                    tag9                    |       tag10
----------------------------+------+------+------+--------------+---------------------+-------+------+------+--------------------------------------------+---------------------+------+------+------+-------------+--------------------+------+------+------+--------------------------------------------+---------------------
  2024-01-01 00:00:01+00:00 |  663 |  620 |  901 |  7463.861328 | -1551.4947464030101 | true  | x    | o    | \x5c74657374000000000000000000000000000000 |  225.31828421061618 |  495 |  736 |  420 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:04+00:00 |  666 |  119 |  807 |   9944.78125 |  -7359.134805999276 | true  | A    | H    | \x4200000000000000000000000000000000000000 | -238.10581074656693 |  495 |  736 |  420 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:01+00:00 |  663 |  620 |  901 |  7463.861328 | -1551.4947464030101 | true  | x    | o    | \x3000000000000000000000000000000000000000 |  225.31828421061618 |  820 |  139 |  851 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:02+00:00 |  500 |  324 |  821 | -3514.273438 |   2907.959323289191 | false | g    | R    | \xe6b58be8af950000000000000000000000000000 |  1942.0105699072847 |  820 |  139 |  851 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:02+00:00 |  500 |  324 |  821 | -3514.273438 |   2907.959323289191 | false | g    | R    | \x3900000000000000000000000000000000000000 |  1942.0105699072847 |  865 |  577 |  987 | -6812.10791 |  5215.895202662417 | true | U    | i    | \x4500000000000000000000000000000000000000 | -6363.044280492493
  2024-01-01 00:00:04+00:00 |  666 |  119 |  807 |   9944.78125 |  -7359.134805999276 | true  | A    | H    | \x6279746500000000000000000000000000000000 | -238.10581074656693 |  865 |  577 |  987 | -6812.10791 |  5215.895202662417 | true | U    | i    | \x4500000000000000000000000000000000000000 | -6363.044280492493
  2024-01-01 00:00:05+00:00 | NULL | NULL | NULL | NULL         | NULL                | NULL  | NULL | NULL | NULL                                       | NULL                |  865 |  577 |  987 | -6812.10791 |  5215.895202662417 | true | U    | i    | \x4500000000000000000000000000000000000000 | -6363.044280492493
(7 rows)
> select * from test.tb2 order by tag1, k_timestamp;
         k_timestamp        | e1  | e2  | e3  |     e4      |         e5          |  e6   | e7 | e8 |                     e9                     |        e10         | tag1 | tag2 | tag3 |    tag4     |        tag5        | tag6 | tag7 | tag8 |                    tag9                    |       tag10
----------------------------+-----+-----+-----+-------------+---------------------+-------+----+----+--------------------------------------------+--------------------+------+------+------+-------------+--------------------+------+------+------+--------------------------------------------+---------------------
  2024-01-01 00:00:00+00:00 | 853 | 102 | 126 | -269.982208 | -6310.8133409285365 | false | z  | N  | \x3300000000000000000000000000000000000000 | 3262.9201366604448 |  431 |  625 |  332 | 2097.566406 | -8080.921804629673 | true | D    | a    | \x4600000000000000000000000000000000000000 | -9985.633213887826
  2024-01-01 00:00:03+00:00 | 926 | 422 | 192 |  168.823959 | -6538.5148542374245 | false | K  | V  | \x3700000000000000000000000000000000000000 |  7827.629938345075 |  502 |  737 |   13 | 9694.170898 | -4820.426745015345 | true | Y    | Q    | \x3600000000000000000000000000000000000000 | -6651.346270440837
(2 rows)
> drop database test cascade;
DROP DATABASE
> create ts database test;
CREATE TS DATABASE
> use test;
SET
> create table test.tb1(k_timestamp timestamptz not null, e1 int2, e2 int4, e3 int8, e4 float4, e5 float8, e6 bool, e7 char(20), e8 nchar(20), e9 bytes(20), e10 double) tags (tag1 int2 not null, tag2 int4 not null, tag3 int8 not null, tag4 float4, tag5 float8, tag6 bool, tag7 char(20), tag8 nchar(20), tag9 bytes(20), tag10 double) primary tags(tag1, tag2, tag3);
CREATE TABLE
> insert into test.tb1 values('2024-01-01 00:00:01+00:00',663,620,901,7463.861328125,-1551.4947464030101,true,'x','o','\x30',225.31828421061618,820,139,851,3052.771728515625,-3061.167301514549,true,'w','Z','\x38',1632.308420147181);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:01+00:00',663,620,901,7463.861328125,-1551.4947464030101,true,'x','o','\\test',225.31828421061618,495,736,420,3052.771728515625,-3061.167301514549,true,'w','Z','\x38',1632.308420147181);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:02+00:00',500,324,821,-3514.2734375,2907.959323289191,false,'g','R','\x39',1942.0105699072847,865,577,987,-6812.10791015625,5215.895202662417,true,'U','i','\x45',-6363.044280492493);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:02+00:00',500,324,821,-3514.2734375,2907.959323289191,false,'g','R','测试',1942.0105699072847,820,139,851,-6812.10791015625,5215.895202662417,true,'U','i','\x45',-6363.044280492493);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:04+00:00',666,119,807,9944.78125,-7359.134805999276,true,'A','H','\x42',-238.10581074656693,495,736,420,659.4307861328125,-349.5548293794309,false,'m','o','\x36',3778.0368072157435);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:04+00:00',666,119,807,9944.78125,-7359.134805999276,true,'A','H','byte',-238.10581074656693,865,577,987,659.4307861328125,-349.5548293794309,false,'m','o','\x36',3778.0368072157435);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:05+00:00',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,865,577,987,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT 1
> create table test.tb2(k_timestamp timestamptz not null, e1 int2, e2 int4, e3 int8, e4 float4, e5 float8, e6 bool, e7 char(20), e8 nchar(20), e9 bytes(20), e10 double) tags (tag1 int2 not null, tag2 int4 not null, tag3 int8 not null, tag4 float4, tag5 float8, tag6 bool, tag7 char(20), tag8 nchar(20), tag9 bytes(20), tag10 double) primary tags(tag1, tag2, tag3);
CREATE TABLE
> insert into test.tb2 values('2024-01-01 00:00:00+00:00',853,102,126,-269.9822082519531,-6310.8133409285365,false,'z','N','\x33',3262.9201366604448,431,625,332,2097.56640625,-8080.921804629673,true,'D','a','\x46',-9985.633213887826);
INSERT 1
> insert into test.tb2 values('2024-01-01 00:00:03+00:00',926,422,192,168.82395935058594,-6538.5148542374245,false,'K','V','\x37',7827.629938345075,502,737,13,9694.1708984375,-4820.426745015345,true,'Y','Q','\x36',-6651.346270440837);
INSERT 1
> export into csv "nodelocal://1/dbtest2/db1data" from database test with data_only;
  result
-----------
  succeed
(1 row)
> export into csv "nodelocal://1/dbtest2/db1meta" from database test with meta_only;
  result
-----------
  succeed
(1 row)
> use defaultdb;
SET
> drop database test cascade;
DROP DATABASE
> create ts database test;
CREATE TS DATABASE
> use test;
SET
> create table test.tb1(k_timestamp timestamptz not null, e1 int2, e2 int4, e3 int8, e4 float4, e5 float8, e6 bool, e7 char(20), e8 nchar(20), e9 bytes(20), e10 double) tags (tag1 int2 not null, tag2 int4 not null, tag3 int8 not null, tag4 float4, tag5 float8, tag6 bool, tag7 char(20), tag8 nchar(20), tag9 bytes(20), tag10 double) primary tags(tag1, tag2, tag3);
CREATE TABLE
> insert into test.tb1 values('2024-01-01 00:00:01+00:00',663,620,901,7463.861328125,-1551.4947464030101,true,'x','o','\x30',225.31828421061618,820,139,851,3052.771728515625,-3061.167301514549,true,'w','Z','\x38',1632.308420147181);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:01+00:00',663,620,901,7463.861328125,-1551.4947464030101,true,'x','o','\\test',225.31828421061618,495,736,420,3052.771728515625,-3061.167301514549,true,'w','Z','\x38',1632.308420147181);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:02+00:00',500,324,821,-3514.2734375,2907.959323289191,false,'g','R','\x39',1942.0105699072847,865,577,987,-6812.10791015625,5215.895202662417,true,'U','i','\x45',-6363.044280492493);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:02+00:00',500,324,821,-3514.2734375,2907.959323289191,false,'g','R','测试',1942.0105699072847,820,139,851,-6812.10791015625,5215.895202662417,true,'U','i','\x45',-6363.044280492493);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:04+00:00',666,119,807,9944.78125,-7359.134805999276,true,'A','H','\x42',-238.10581074656693,495,736,420,659.4307861328125,-349.5548293794309,false,'m','o','\x36',3778.0368072157435);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:04+00:00',666,119,807,9944.78125,-7359.134805999276,true,'A','H','byte',-238.10581074656693,865,577,987,659.4307861328125,-349.5548293794309,false,'m','o','\x36',3778.0368072157435);
INSERT 1
> insert into test.tb1 values('2024-01-01 00:00:05+00:00',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,865,577,987,NULL,NULL,NULL,NULL,NULL,NULL,NULL);
INSERT 1
> create table test.tb2(k_timestamp timestamptz not null, e1 int2, e2 int4, e3 int8, e4 float4, e5 float8, e6 bool, e7 char(20), e8 nchar(20), e9 bytes(20), e10 double) tags (tag1 int2 not null, tag2 int4 not null, tag3 int8 not null, tag4 float4, tag5 float8, tag6 bool, tag7 char(20), tag8 nchar(20), tag9 bytes(20), tag10 double) primary tags(tag1, tag2, tag3);
CREATE TABLE
> insert into test.tb2 values('2024-01-01 00:00:00+00:00',853,102,126,-269.9822082519531,-6310.8133409285365,false,'z','N','\x33',3262.9201366604448,431,625,332,2097.56640625,-8080.921804629673,true,'D','a','\x46',-9985.633213887826);
INSERT 1
> insert into test.tb2 values('2024-01-01 00:00:03+00:00',926,422,192,168.82395935058594,-6538.5148542374245,false,'K','V','\x37',7827.629938345075,502,737,13,9694.1708984375,-4820.426745015345,true,'Y','Q','\x36',-6651.346270440837);
INSERT 1
> export into csv "nodelocal://1/dbtest3/db1" from database test with delimiter = '.';
  result
-----------
  succeed
(1 row)
> use defaultdb;
SET
> drop database test cascade;
DROP DATABASE
> import database csv data ("nodelocal://1/dbtest3/db1") with delimiter = '.';
  job_id |  status   | fraction_completed | rows | abandon_rows | reject_rows | note
---------+-----------+--------------------+------+--------------+-------------+-------
  -      | succeeded |                  1 |    9 | 0            | 0           | None
(1 row)
> select * from test.tb1 order by tag1, k_timestamp;
         k_timestamp        |  e1  |  e2  |  e3  |      e4      |         e5          |  e6   |  e7  |  e8  |                     e9                     |         e10         | tag1 | tag2 | tag3 |    tag4     |        tag5        | tag6 | tag7 | tag8 |                    tag9                    |       tag10
----------------------------+------+------+------+--------------+---------------------+-------+------+------+--------------------------------------------+---------------------+------+------+------+-------------+--------------------+------+------+------+--------------------------------------------+---------------------
  2024-01-01 00:00:01+00:00 |  663 |  620 |  901 |  7463.861328 | -1551.4947464030101 | true  | x    | o    | \x5c74657374000000000000000000000000000000 |  225.31828421061618 |  495 |  736 |  420 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:04+00:00 |  666 |  119 |  807 |   9944.78125 |  -7359.134805999276 | true  | A    | H    | \x4200000000000000000000000000000000000000 | -238.10581074656693 |  495 |  736 |  420 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:01+00:00 |  663 |  620 |  901 |  7463.861328 | -1551.4947464030101 | true  | x    | o    | \x3000000000000000000000000000000000000000 |  225.31828421061618 |  820 |  139 |  851 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:02+00:00 |  500 |  324 |  821 | -3514.273438 |   2907.959323289191 | false | g    | R    | \xe6b58be8af950000000000000000000000000000 |  1942.0105699072847 |  820 |  139 |  851 | 3052.771729 | -3061.167301514549 | true | w    | Z    | \x3800000000000000000000000000000000000000 |  1632.308420147181
  2024-01-01 00:00:02+00:00 |  500 |  324 |  821 | -3514.273438 |   2907.959323289191 | false | g    | R    | \x3900000000000000000000000000000000000000 |  1942.0105699072847 |  865 |  577 |  987 | -6812.10791 |  5215.895202662417 | true | U    | i    | \x4500000000000000000000000000000000000000 | -6363.044280492493
  2024-01-01 00:00:04+00:00 |  666 |  119 |  807 |   9944.78125 |  -7359.134805999276 | true  | A    | H    | \x6279746500000000000000000000000000000000 | -238.10581074656693 |  865 |  577 |  987 | -6812.10791 |  5215.895202662417 | true | U    | i    | \x4500000000000000000000000000000000000000 | -6363.044280492493
  2024-01-01 00:00:05+00:00 | NULL | NULL | NULL | NULL         | NULL                | NULL  | NULL | NULL | NULL                                       | NULL                |  865 |  577 |  987 | -6812.10791 |  5215.895202662417 | true | U    | i    | \x4500000000000000000000000000000000000000 | -6363.044280492493
(7 rows)
> select * from test.tb2 order by tag1, k_timestamp;
         k_timestamp        | e1  | e2  | e3  |     e4      |         e5          |  e6   | e7 | e8 |                     e9                     |        e10         | tag1 | tag2 | tag3 |    tag4     |        tag5        | tag6 | tag7 | tag8 |                    tag9                    |       tag10
----------------------------+-----+-----+-----+-------------+---------------------+-------+----+----+--------------------------------------------+--------------------+------+------+------+-------------+--------------------+------+------+------+--------------------------------------------+---------------------
  2024-01-01 00:00:00+00:00 | 853 | 102 | 126 | -269.982208 | -6310.8133409285365 | false | z  | N  | \x3300000000000000000000000000000000000000 | 3262.9201366604448 |  431 |  625 |  332 | 2097.566406 | -8080.921804629673 | true | D    | a    | \x4600000000000000000000000000000000000000 | -9985.633213887826
  2024-01-01 00:00:03+00:00 | 926 | 422 | 192 |  168.823959 | -6538.5148542374245 | false | K  | V  | \x3700000000000000000000000000000000000000 |  7827.629938345075 |  502 |  737 |   13 | 9694.170898 | -4820.426745015345 | true | Y    | Q    | \x3600000000000000000000000000000000000000 | -6651.346270440837
(2 rows)
> drop database test cascade;
DROP DATABASE
